################################
#   TYPE
################################
type User {
  id: ID!
  id_per: String!
  firstname: String!
  lastname: String!
  email: String!
  phone: String!
  roles: [Role!]! @belongsToMany
  permissions: [Permission!]! @belongsToMany
}

################################
#   INPUT
################################

################################
#   QUERY
################################
extend type Query {
  user(id: ID! @eq): User @find(model: "App\\User")
  #users: [User!]! @all(model: "App\\User")
}

extend type Query @middleware(checks: ["auth:veos-ws-token"]) {
  users: [User!]!
}

extend type Mutation @middleware(checks: ["auth:veos-ws-token"]) {
  importUser(id_per: Int!): User
    @field(resolver: "Modules\\Extranet\\GraphQL\\Mutations\\Users\\ImportUser")
}

################################
#   MUTATOR
################################
